"use strict";(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[346,9678],{40019:(A,l,e)=>{e.d(l,{f:()=>t});var m=e(69808),c=e(20958),p=e(45330),u=e(5e3);let t=(()=>{class n{}return n.\u0275fac=function(C){return new(C||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[p.xA],imports:[[m.ez,c.m]]}),n})()},90346:(A,l,e)=>{e.r(l),e.d(l,{CertificadosModule:()=>h});var m=e(74202),c=e(85786),p=e(37952),u=e(54578),t=e(5e3);const n=[{path:"",component:p.e,canActivate:[u.P],data:{breadcrumb:[{label:"Administraci\xf3n"},{label:"Certificados"}]}},{path:"editar/:id",component:c.P,data:{isEdit:!0,title:"Editar certificado",breadcrumb:[{label:"Administraci\xf3n"},{label:"Editar certificado"}]},canActivate:[u.P]},{path:"nuevo",component:c.P,data:{isEdit:!1,title:"Nuevo certificado",breadcrumb:[{label:"Administraci\xf3n"},{label:"Nuevo certificado"}]},canActivate:[u.P]}];let a=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[[m.Bz.forChild(n)],m.Bz]}),d})();var C=e(57935);let h=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[[a,C.H]]}),d})()},49678:(A,l,e)=>{e.r(l),e.d(l,{CiudadesModule:()=>U});var m=e(69808),c=e(74202),p=e(54578),u=e(82817),t=e(5e3),n=e(49115),a=e(59783),C=e(2385),h=e(47745),d=e(74297),M=e(12145),f=e(93075),E=e(40845),y=e(98952),Z=e(4119);function B(i,r){if(1&i&&t._uU(0),2&i){const o=r.$implicit;t.AsE(" ",o.codigoCiudad," - ",o.ciudad," ")}}function P(i,r){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"Ubigeo"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Ciudad"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Acciones"),t.qZA(),t.qZA())}function D(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",9),t.TgZ(6,"button",10),t.NdJ("click",function(){const v=t.CHM(o).$implicit;return t.oxw().deleteCity(v)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const o=r.$implicit;t.xp6(2),t.Oqu(o.codigoCiudad),t.xp6(2),t.Oqu(o.ciudad)}}const S=[{path:"",component:(()=>{class i{constructor(o,s,g,v,T,R){this.route=o,this.router=s,this.cityService=g,this.messageService=v,this.consultaDocumentosService=T,this.breadcrumbService=R,this.filteredCities=[]}ngOnInit(){this.breadcrumbService.setItems((0,u.kn)(this.route)),this.loadCities()}loadCities(){setTimeout(()=>this.cityService.findAll().subscribe(o=>this.ciudades=o))}filterCitiesByNombre(o){this.consultaDocumentosService.findCity(o.query).subscribe(g=>{this.filteredCities=g})}get validationButtonAdd(){return this.ciudadSeleccionada&&0===this.ciudades.filter(o=>o.codigoCiudad===this.ciudadSeleccionada.codigoCiudad).length}saveCity(){this.ciudadSeleccionada&&"object"==typeof this.ciudadSeleccionada&&this.cityService.save(this.ciudadSeleccionada).subscribe(()=>{this.loadCities(),this.ciudadSeleccionada=void 0})}deleteCity(o){this.cityService.delete(o.id).subscribe(()=>this.loadCities())}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(c.gz),t.Y36(c.F0),t.Y36(n.Z),t.Y36(a.ez),t.Y36(C.W),t.Y36(h.p))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-ciudades"]],decls:12,vars:6,consts:[[1,"grid"],[1,"col-12"],[2,"margin-right","0.3rem"],["field","descripcion","placeholder","Buscar ciudad",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod"],["pTemplate","item"],["pButton","","type","button","label","Agregar ciudad",3,"disabled","click"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Eliminar",1,"p-button-danger","lrm-1",3,"click"]],template:function(o,s){1&o&&(t.TgZ(0,"p-card"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"span",2),t.TgZ(4,"p-autoComplete",3),t.NdJ("ngModelChange",function(v){return s.ciudadSeleccionada=v})("completeMethod",function(v){return s.filterCitiesByNombre(v)}),t.YNc(5,B,1,2,"ng-template",4),t.qZA(),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return s.saveCity()}),t.qZA(),t.TgZ(7,"h3"),t._uU(8,"Ciudades de cobertura"),t.qZA(),t.TgZ(9,"p-table",6),t.YNc(10,P,7,0,"ng-template",7),t.YNc(11,D,7,2,"ng-template",8),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(4),t.Q6J("ngModel",s.ciudadSeleccionada)("suggestions",s.filteredCities)("size",30)("minLength",1),t.xp6(2),t.Q6J("disabled",!s.validationButtonAdd),t.xp6(3),t.Q6J("value",s.ciudades))},directives:[d.Z,M.Qc,f.JJ,f.On,a.jx,E.Hq,y.iA,Z.u],styles:[""]}),i})(),canActivate:[p.P],data:{breadcrumb:[{label:"Administraci\xf3n"},{label:"Ciudades"}]}}];let O=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.Bz.forChild(S)],c.Bz]}),i})();var b=e(20958);let U=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.ez,b.m,O]]}),i})()},57935:(A,l,e)=>{e.d(l,{H:()=>n});var m=e(20958),c=e(91520),p=e(49678),u=e(40019),t=e(5e3);let n=(()=>{class a{}return a.\u0275fac=function(h){return new(h||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[m.m,c.HorariosModule,p.CiudadesModule,u.f]]}),a})()}}]);