"use strict";(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[2015,9678],{40019:(A,l,e)=>{e.d(l,{f:()=>t});var m=e(69808),c=e(20958),p=e(45330),r=e(5e3);let t=(()=>{class n{}return n.\u0275fac=function(g){return new(g||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[p.xA],imports:[[m.ez,c.m]]}),n})()},49678:(A,l,e)=>{e.r(l),e.d(l,{CiudadesModule:()=>b});var m=e(69808),c=e(74202),p=e(54578),r=e(82817),t=e(5e3),n=e(49115),a=e(59783),g=e(2385),f=e(47745),d=e(74297),M=e(12145),h=e(93075),E=e(40845),y=e(98952),Z=e(4119);function B(o,u){if(1&o&&t._uU(0),2&o){const i=u.$implicit;t.AsE(" ",i.codigoCiudad," - ",i.ciudad," ")}}function U(o,u){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"Ubigeo"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Ciudad"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Acciones"),t.qZA(),t.qZA())}function D(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",9),t.TgZ(6,"button",10),t.NdJ("click",function(){const v=t.CHM(i).$implicit;return t.oxw().deleteCity(v)}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const i=u.$implicit;t.xp6(2),t.Oqu(i.codigoCiudad),t.xp6(2),t.Oqu(i.ciudad)}}const S=[{path:"",component:(()=>{class o{constructor(i,s,C,v,T,R){this.route=i,this.router=s,this.cityService=C,this.messageService=v,this.consultaDocumentosService=T,this.breadcrumbService=R,this.filteredCities=[]}ngOnInit(){this.breadcrumbService.setItems((0,r.kn)(this.route)),this.loadCities()}loadCities(){setTimeout(()=>this.cityService.findAll().subscribe(i=>this.ciudades=i))}filterCitiesByNombre(i){this.consultaDocumentosService.findCity(i.query).subscribe(C=>{this.filteredCities=C})}get validationButtonAdd(){return this.ciudadSeleccionada&&0===this.ciudades.filter(i=>i.codigoCiudad===this.ciudadSeleccionada.codigoCiudad).length}saveCity(){this.ciudadSeleccionada&&"object"==typeof this.ciudadSeleccionada&&this.cityService.save(this.ciudadSeleccionada).subscribe(()=>{this.loadCities(),this.ciudadSeleccionada=void 0})}deleteCity(i){this.cityService.delete(i.id).subscribe(()=>this.loadCities())}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(c.gz),t.Y36(c.F0),t.Y36(n.Z),t.Y36(a.ez),t.Y36(g.W),t.Y36(f.p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ciudades"]],decls:12,vars:6,consts:[[1,"grid"],[1,"col-12"],[2,"margin-right","0.3rem"],["field","descripcion","placeholder","Buscar ciudad",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod"],["pTemplate","item"],["pButton","","type","button","label","Agregar ciudad",3,"disabled","click"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Eliminar",1,"p-button-danger","lrm-1",3,"click"]],template:function(i,s){1&i&&(t.TgZ(0,"p-card"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"span",2),t.TgZ(4,"p-autoComplete",3),t.NdJ("ngModelChange",function(v){return s.ciudadSeleccionada=v})("completeMethod",function(v){return s.filterCitiesByNombre(v)}),t.YNc(5,B,1,2,"ng-template",4),t.qZA(),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return s.saveCity()}),t.qZA(),t.TgZ(7,"h3"),t._uU(8,"Ciudades de cobertura"),t.qZA(),t.TgZ(9,"p-table",6),t.YNc(10,U,7,0,"ng-template",7),t.YNc(11,D,7,2,"ng-template",8),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngModel",s.ciudadSeleccionada)("suggestions",s.filteredCities)("size",30)("minLength",1),t.xp6(2),t.Q6J("disabled",!s.validationButtonAdd),t.xp6(3),t.Q6J("value",s.ciudades))},directives:[d.Z,M.Qc,h.JJ,h.On,a.jx,E.Hq,y.iA,Z.u],styles:[""]}),o})(),canActivate:[p.P],data:{breadcrumb:[{label:"Administraci\xf3n"},{label:"Ciudades"}]}}];let O=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(S)],c.Bz]}),o})();var P=e(20958);let b=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.ez,P.m,O]]}),o})()},57935:(A,l,e)=>{e.d(l,{H:()=>n});var m=e(20958),c=e(91520),p=e(49678),r=e(40019),t=e(5e3);let n=(()=>{class a{}return a.\u0275fac=function(f){return new(f||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[m.m,c.HorariosModule,p.CiudadesModule,r.f]]}),a})()},62015:(A,l,e)=>{e.r(l),e.d(l,{UsuariosModule:()=>f});var m=e(74202),c=e(84165),p=e(46482),r=e(54578),t=e(5e3);const n=[{path:"",component:c.g,data:{modeRoot:!1,breadcrumb:[{label:"Administraci\xf3n"},{label:"Usuarios"}]},canActivate:[r.P]},{path:"editar/:id",component:p.T,data:{modeRoot:!1,isEdit:!0,title:"Editar usuario",breadcrumb:[{label:"Administraci\xf3n"},{label:"Editar usuario"}]},canActivate:[r.P]},{path:"nuevo",component:p.T,data:{modeRoot:!1,isEdit:!1,title:"Nuevo usuario",breadcrumb:[{label:"Administraci\xf3n"},{label:"Nuevo usuario"}]},canActivate:[r.P]}];let a=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[[m.Bz.forChild(n)],m.Bz]}),d})();var g=e(57935);let f=(()=>{class d{}return d.\u0275fac=function(h){return new(h||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[[a,g.H]]}),d})()}}]);