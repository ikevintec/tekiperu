"use strict";(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[3646,9678],{40019:(A,p,t)=>{t.d(p,{f:()=>e});var g=t(69808),s=t(20958),h=t(45330),u=t(5e3);let e=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=u.oAB({type:a}),a.\u0275inj=u.cJS({providers:[h.xA],imports:[[g.ez,s.m]]}),a})()},49678:(A,p,t)=>{t.r(p),t.d(p,{CiudadesModule:()=>U});var g=t(69808),s=t(74202),h=t(54578),u=t(82817),e=t(5e3),a=t(49115),r=t(59783),d=t(2385),l=t(47745),i=t(74297),c=t(12145),M=t(93075),P=t(40845),T=t(98952),y=t(4119);function Z(o,f){if(1&o&&e._uU(0),2&o){const n=f.$implicit;e.AsE(" ",n.codigoCiudad," - ",n.ciudad," ")}}function _(o,f){1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"th"),e._uU(2,"Ubigeo"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Ciudad"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Acciones"),e.qZA(),e.qZA())}function B(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e.TgZ(6,"button",10),e.NdJ("click",function(){const v=e.CHM(n).$implicit;return e.oxw().deleteCity(v)}),e.qZA(),e.qZA(),e.qZA()}if(2&o){const n=f.$implicit;e.xp6(2),e.Oqu(n.codigoCiudad),e.xp6(2),e.Oqu(n.ciudad)}}const S=[{path:"",component:(()=>{class o{constructor(n,m,C,v,E,b){this.route=n,this.router=m,this.cityService=C,this.messageService=v,this.consultaDocumentosService=E,this.breadcrumbService=b,this.filteredCities=[]}ngOnInit(){this.breadcrumbService.setItems((0,u.kn)(this.route)),this.loadCities()}loadCities(){setTimeout(()=>this.cityService.findAll().subscribe(n=>this.ciudades=n))}filterCitiesByNombre(n){this.consultaDocumentosService.findCity(n.query).subscribe(C=>{this.filteredCities=C})}get validationButtonAdd(){return this.ciudadSeleccionada&&0===this.ciudades.filter(n=>n.codigoCiudad===this.ciudadSeleccionada.codigoCiudad).length}saveCity(){this.ciudadSeleccionada&&"object"==typeof this.ciudadSeleccionada&&this.cityService.save(this.ciudadSeleccionada).subscribe(()=>{this.loadCities(),this.ciudadSeleccionada=void 0})}deleteCity(n){this.cityService.delete(n.id).subscribe(()=>this.loadCities())}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(s.gz),e.Y36(s.F0),e.Y36(a.Z),e.Y36(r.ez),e.Y36(d.W),e.Y36(l.p))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ciudades"]],decls:12,vars:6,consts:[[1,"grid"],[1,"col-12"],[2,"margin-right","0.3rem"],["field","descripcion","placeholder","Buscar ciudad",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod"],["pTemplate","item"],["pButton","","type","button","label","Agregar ciudad",3,"disabled","click"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Eliminar",1,"p-button-danger","lrm-1",3,"click"]],template:function(n,m){1&n&&(e.TgZ(0,"p-card"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"span",2),e.TgZ(4,"p-autoComplete",3),e.NdJ("ngModelChange",function(v){return m.ciudadSeleccionada=v})("completeMethod",function(v){return m.filterCitiesByNombre(v)}),e.YNc(5,Z,1,2,"ng-template",4),e.qZA(),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return m.saveCity()}),e.qZA(),e.TgZ(7,"h3"),e._uU(8,"Ciudades de cobertura"),e.qZA(),e.TgZ(9,"p-table",6),e.YNc(10,_,7,0,"ng-template",7),e.YNc(11,B,7,2,"ng-template",8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("ngModel",m.ciudadSeleccionada)("suggestions",m.filteredCities)("size",30)("minLength",1),e.xp6(2),e.Q6J("disabled",!m.validationButtonAdd),e.xp6(3),e.Q6J("value",m.ciudades))},directives:[i.Z,c.Qc,M.JJ,M.On,r.jx,P.Hq,T.iA,y.u],styles:[""]}),o})(),canActivate:[h.P],data:{breadcrumb:[{label:"Administraci\xf3n"},{label:"Ciudades"}]}}];let D=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[s.Bz.forChild(S)],s.Bz]}),o})();var O=t(20958);let U=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.ez,O.m,D]]}),o})()},57935:(A,p,t)=>{t.d(p,{H:()=>a});var g=t(20958),s=t(91520),h=t(49678),u=t(40019),e=t(5e3);let a=(()=>{class r{}return r.\u0275fac=function(l){return new(l||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[g.m,s.HorariosModule,h.CiudadesModule,u.f]]}),r})()},81241:(A,p,t)=>{t.r(p),t.d(p,{PerfilesModule:()=>l});var g=t(74202),s=t(56644),h=t(96330),u=t(54578),e=t(5e3);const a=[{path:"",component:h.p,data:{modeRoot:!1,breadcrumb:[{label:"Administraci\xf3n"},{label:"Perfiles"}]},canActivate:[u.P]},{path:"editar/:id",component:s.k,data:{modeRoot:!1,isEdit:!0,title:"Editar perfil",breadcrumb:[{label:"Administraci\xf3n"},{label:"Perfiles"},{label:"Editar perfil"}]},canActivate:[u.P]},{path:"nuevo",component:s.k,data:{modeRoot:!1,isEdit:!1,title:"Nuevo perfil",breadcrumb:[{label:"Administraci\xf3n"},{label:"Perfiles"},{label:"Nuevo perfil"}]},canActivate:[u.P]}];let r=(()=>{class i{}return i.\u0275fac=function(M){return new(M||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.Bz.forChild(a)],g.Bz]}),i})();var d=t(57935);let l=(()=>{class i{}return i.\u0275fac=function(M){return new(M||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[r,d.H]]}),i})()},87969:(A,p,t)=>{t.d(p,{H:()=>e});var g=t(92340),s=t(36644),h=t(5e3),u=t(40520);let e=(()=>{class a{constructor(d){this.http=d,this.baseUrl=g.N.endpointApi}findAllPage(d,l,i){const c=(0,s.S)(d,i);return this.http.get(`${c}/profiles?${l}`)}findAll(d,l){const i=(0,s.S)(d,l);return this.http.get(`${i}/profiles/all`)}findById(d,l,i){const c=(0,s.S)(d,i);return this.http.get(`${c}/profiles/${l}`)}save(d,l,i){const c=(0,s.S)(d,i);return this.http.post(`${c}/profiles`,l)}update(d,l,i){const c=(0,s.S)(d,i);return this.http.put(`${c}/profiles`,l)}deleteById(d,l,i){const c=(0,s.S)(d,i);return this.http.delete(`${c}/profiles/${l}`)}findAllModulesAccess(d){return this.http.get(`${this.baseUrl}/modules-access?${d}`)}}return a.\u0275fac=function(d){return new(d||a)(h.LFG(u.eN))},a.\u0275prov=h.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);