"use strict";(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[9678],{49678:(x,u,d)=>{d.r(u),d.d(u,{CiudadesModule:()=>U});var p=d(69808),c=d(74202),g=d(54578),C=d(82817),e=d(5e3),h=d(49115),l=d(59783),v=d(2385),f=d(47745),Z=d(74297),T=d(12145),r=d(93075),A=d(40845),y=d(98952),b=d(4119);function S(t,o){if(1&t&&e._uU(0),2&t){const i=o.$implicit;e.AsE(" ",i.codigoCiudad," - ",i.ciudad," ")}}function M(t,o){1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"th"),e._uU(2,"Ubigeo"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Ciudad"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Acciones"),e.qZA(),e.qZA())}function B(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e.TgZ(6,"button",10),e.NdJ("click",function(){const s=e.CHM(i).$implicit;return e.oxw().deleteCity(s)}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const i=o.$implicit;e.xp6(2),e.Oqu(i.codigoCiudad),e.xp6(2),e.Oqu(i.ciudad)}}const J=[{path:"",component:(()=>{class t{constructor(i,n,a,s,m,z){this.route=i,this.router=n,this.cityService=a,this.messageService=s,this.consultaDocumentosService=m,this.breadcrumbService=z,this.filteredCities=[]}ngOnInit(){this.breadcrumbService.setItems((0,C.kn)(this.route)),this.loadCities()}loadCities(){setTimeout(()=>this.cityService.findAll().subscribe(i=>this.ciudades=i))}filterCitiesByNombre(i){this.consultaDocumentosService.findCity(i.query).subscribe(a=>{this.filteredCities=a})}get validationButtonAdd(){return this.ciudadSeleccionada&&0===this.ciudades.filter(i=>i.codigoCiudad===this.ciudadSeleccionada.codigoCiudad).length}saveCity(){this.ciudadSeleccionada&&"object"==typeof this.ciudadSeleccionada&&this.cityService.save(this.ciudadSeleccionada).subscribe(()=>{this.loadCities(),this.ciudadSeleccionada=void 0})}deleteCity(i){this.cityService.delete(i.id).subscribe(()=>this.loadCities())}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(c.gz),e.Y36(c.F0),e.Y36(h.Z),e.Y36(l.ez),e.Y36(v.W),e.Y36(f.p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-ciudades"]],decls:12,vars:6,consts:[[1,"grid"],[1,"col-12"],[2,"margin-right","0.3rem"],["field","descripcion","placeholder","Buscar ciudad",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod"],["pTemplate","item"],["pButton","","type","button","label","Agregar ciudad",3,"disabled","click"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Eliminar",1,"p-button-danger","lrm-1",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"p-card"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"span",2),e.TgZ(4,"p-autoComplete",3),e.NdJ("ngModelChange",function(s){return n.ciudadSeleccionada=s})("completeMethod",function(s){return n.filterCitiesByNombre(s)}),e.YNc(5,S,1,2,"ng-template",4),e.qZA(),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.saveCity()}),e.qZA(),e.TgZ(7,"h3"),e._uU(8,"Ciudades de cobertura"),e.qZA(),e.TgZ(9,"p-table",6),e.YNc(10,M,7,0,"ng-template",7),e.YNc(11,B,7,2,"ng-template",8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngModel",n.ciudadSeleccionada)("suggestions",n.filteredCities)("size",30)("minLength",1),e.xp6(2),e.Q6J("disabled",!n.validationButtonAdd),e.xp6(3),e.Q6J("value",n.ciudades))},directives:[Z.Z,T.Qc,r.JJ,r.On,l.jx,A.Hq,y.iA,b.u],styles:[""]}),t})(),canActivate:[g.P],data:{breadcrumb:[{label:"Administraci\xf3n"},{label:"Ciudades"}]}}];let Y=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.Bz.forChild(J)],c.Bz]}),t})();var N=d(20958);let U=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.ez,N.m,Y]]}),t})()}}]);