"use strict";(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[1165,7121],{5766:(A,f,a)=>{a.d(f,{h:()=>x});var l=a(5e3),h=a(45351);let x=(()=>{class s{constructor(){}get items(){return this._items}set items(r){this._items=r,this.loadActions()}get defaultActionLabel(){return this.items?this.items[0].label:""}get defaultActionIcon(){return this.items?this.items[0].icon:""}ngOnInit(){}defaultAction(){if(this.items&&this.items.length>0){const r=this.items[0].url;r&&window.open(r,"_blank")}}loadActions(){if(this.options=[],this.items){let r=0;this.items.forEach(d=>{if(r>0){const p=d.url;this.options.push({label:d.label,icon:d.icon,command:()=>{p&&window.open(p,"_blank")}})}r++})}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=l.Xpm({type:s,selectors:[["app-actions"]],inputs:{items:"items"},decls:1,vars:3,consts:[["appendTo","body","styleClass","p-button-secondary",3,"label","icon","model","onClick"]],template:function(r,d){1&r&&(l.TgZ(0,"p-splitButton",0),l.NdJ("onClick",function(){return d.defaultAction()}),l.qZA()),2&r&&l.Q6J("label",d.defaultActionLabel)("icon",d.defaultActionIcon)("model",d.options)},directives:[h.a],styles:[""]}),s})()},91165:(A,f,a)=>{a.r(f),a.d(f,{ProductosModule:()=>Wt});var l=a(74202),h=a(70655),x=a(85932),s=a(82817),m=a(81575),r=a(8929),d=a(30567),p=a(7625),b=a(80013),C=a(24850),v=a(92340),t=a(5e3),U=a(12216),J=a(20207),y=a(59783),N=a(47745),S=a(40038),Q=a(21602),M=a(24394),_=a(93075),D=a(74297),I=a(80422),Y=a(53539),B=a(31424),L=a(86526),E=a(10762),O=a(14036),R=a(40845),Z=a(98952),u=a(69808),z=a(93036),q=a(70050),k=a(9757),j=a(4119),H=a(5766),G=a(15315),V=a(88205),K=a(80267),W=a(2836),X=a(77121);const tt=["dt"];function ot(o,e){if(1&o&&(t.TgZ(0,"span",27),t._uU(1),t.ALo(2,"moneda"),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,n.label,"moneda"))}}function nt(o,e){1&o&&(t._uU(0),t.ALo(1,"moneda")),2&o&&t.hij(" ",t.xi3(1,1,e.$implicit.label,"moneda")," ")}function et(o,e){if(1&o&&t._UZ(0,"p-sortIcon",31),2&o){const n=t.oxw().$implicit;t.Q6J("field",n.field)}}function it(o,e){if(1&o&&(t.TgZ(0,"th",29),t._uU(1),t.YNc(2,et,1,1,"p-sortIcon",30),t.qZA()),2&o){const n=e.$implicit;t.Q6J("pSortableColumn",n.field),t.xp6(1),t.hij(" ",n.header," "),t.xp6(1),t.Q6J("ngIf",!n.isActions)}}function at(o,e){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,it,3,3,"th",28),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Q6J("ngForOf",n)}}function ct(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"tipoProducto"),t.qZA()),2&o){const n=t.oxw(3).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,i[n.field]))}}function rt(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Tipo"),t.qZA(),t.YNc(3,ct,3,3,"span",34),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[n.field])}}function lt(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(4).$implicit;t.xp6(1),t.Oqu(n.nombre)}}function st(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Nombre"),t.qZA(),t.YNc(3,lt,2,1,"span",34),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[n.field])}}function pt(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(4).$implicit;t.xp6(1),t.Oqu(n.codigo)}}function dt(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Codigo"),t.qZA(),t.YNc(3,pt,2,1,"span",34),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[n.field])}}function ut(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(4).$implicit;t.xp6(1),t.Oqu(n.moneda)}}function mt(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Moneda"),t.qZA(),t.YNc(3,ut,2,1,"span",34),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[n.field])}}function _t(o,e){if(1&o&&(t.TgZ(0,"div",41),t._uU(1),t.ALo(2,"montoDinero"),t.qZA()),2&o){const n=t.oxw(5).$implicit;t.xp6(1),t.hij("",t.xi3(2,1,n.precioCompra,n.moneda)," ")}}function gt(o,e){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,_t,3,4,"div",40),t.qZA()),2&o){const n=t.oxw(3).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",i[n.field])}}function ft(o,e){1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Precio de Compra"),t.qZA(),t.YNc(3,gt,2,1,"div",39),t.BQk()),2&o&&(t.xp6(3),t.Q6J("appPermission","PRODUCTOS_MOSTRAR_PRECIO_COMPRA"))}function ht(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Precio de Venta"),t.qZA(),t._UZ(3,"app-precio-producto-detalle",42),t.BQk()),2&o){const n=t.oxw(3).$implicit,i=t.oxw();t.xp6(3),t.Q6J("puntoVenta",i.puntoVenta)("producto",n)}}function xt(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(3).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(null==i[n.field]?null:i[n.field].descripcion)}}function bt(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Unidad compra"),t.qZA(),t.YNc(3,xt,2,1,"span",34),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[n.field])}}function vt(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(3).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(i[n.field].descripcion)}}function Ct(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Unidad venta"),t.qZA(),t.YNc(3,vt,2,1,"span",34),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[n.field])}}function Tt(o,e){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(3).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(i[n.field].nombre)}}function Zt(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Categoria"),t.qZA(),t.YNc(3,Tt,2,1,"span",34),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[n.field])}}function Pt(o,e){if(1&o&&(t.TgZ(0,"span",44),t._uU(1),t.qZA()),2&o){const n=t.oxw(3).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(i[n.field].nombre)}}function At(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Marca"),t.qZA(),t.YNc(3,Pt,2,1,"span",43),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[n.field])}}function yt(o,e){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"span",38),t._uU(2,"Stock"),t.qZA(),t.TgZ(3,"app-mostrar-stock",45),t.NdJ("changeStock",function(){return t.CHM(n),t.oxw(4).resetAndRefreshTable()}),t.qZA(),t.BQk()}if(2&o){const n=t.oxw(3).$implicit;t.xp6(3),t.Q6J("producto",n)}}function wt(o,e){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i[n.field]," ")}}function $t(o,e){1&o&&(t.ynx(0),t.YNc(1,rt,4,1,"ng-container",36),t.YNc(2,st,4,1,"ng-container",36),t.YNc(3,dt,4,1,"ng-container",36),t.YNc(4,mt,4,1,"ng-container",36),t.YNc(5,ft,4,1,"ng-container",36),t.YNc(6,ht,4,2,"ng-container",36),t.YNc(7,bt,4,1,"ng-container",36),t.YNc(8,Ct,4,1,"ng-container",36),t.YNc(9,Zt,4,1,"ng-container",36),t.YNc(10,At,4,1,"ng-container",36),t.YNc(11,yt,4,1,"ng-container",36),t.YNc(12,wt,2,1,"ng-container",37),t.BQk()),2&o&&(t.xp6(1),t.Q6J("ngSwitchCase","tipoProducto"),t.xp6(1),t.Q6J("ngSwitchCase","nombre"),t.xp6(1),t.Q6J("ngSwitchCase","codigo"),t.xp6(1),t.Q6J("ngSwitchCase","moneda"),t.xp6(1),t.Q6J("ngSwitchCase","precioCompra"),t.xp6(1),t.Q6J("ngSwitchCase","precioVenta"),t.xp6(1),t.Q6J("ngSwitchCase","unidadCompra"),t.xp6(1),t.Q6J("ngSwitchCase","unidad"),t.xp6(1),t.Q6J("ngSwitchCase","categoria"),t.xp6(1),t.Q6J("ngSwitchCase","marca"),t.xp6(1),t.Q6J("ngSwitchCase","stock"))}function Ft(o,e){if(1&o&&(t.ynx(0,46),t.TgZ(1,"span",38),t._uU(2,"Acciones"),t.qZA(),t._UZ(3,"button",47),t.BQk()),2&o){const n=t.oxw(2).$implicit,i=t.oxw();t.xp6(3),t.Q6J("routerLink",i.linkUpdate(n))}}function Ut(o,e){if(1&o&&(t.TgZ(0,"td",33),t.YNc(1,$t,13,11,"ng-container",34),t.YNc(2,Ft,4,1,"ng-container",35),t.qZA()),2&o){const n=e.$implicit;t.Q6J("ngSwitch",n.field),t.xp6(1),t.Q6J("ngIf",!n.isActions),t.xp6(1),t.Q6J("ngIf",n.isActions)}}function Jt(o,e){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,Ut,3,3,"td",32),t.qZA()),2&o){const n=e.columns;t.xp6(1),t.Q6J("ngForOf",n)}}function Nt(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).nuevoProducto("insumo")}),t.qZA()}}function St(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).nuevoProducto("platillo")}),t.qZA()}}function Qt(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).nuevoProducto("combo")}),t.qZA()}}function Mt(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){return t.CHM(n),t.oxw().nuevoProducto("articulo")}),t.qZA(),t.TgZ(1,"button",49),t.NdJ("click",function(){return t.CHM(n),t.oxw().nuevoProducto("paquete")}),t.qZA(),t.YNc(2,Nt,1,0,"button",50),t.YNc(3,St,1,0,"button",51),t.YNc(4,Qt,1,0,"button",52),t.TgZ(5,"button",53),t.NdJ("click",function(){return t.CHM(n),t.oxw().nuevoProducto("plan")}),t.qZA(),t.TgZ(6,"button",54),t.NdJ("click",function(){return t.CHM(n),t.oxw().openImport()}),t.qZA(),t._UZ(7,"app-actions",55)}if(2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.configCompany.esRestaurante),t.xp6(1),t.Q6J("ngIf",n.configCompany.esRestaurante),t.xp6(1),t.Q6J("ngIf",n.configCompany.esRestaurante),t.xp6(3),t.Q6J("items",n.actionsExportData)}}function Dt(o,e){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.AsE("",n.name," - ",n.size," bytes ")}}function It(o,e){if(1&o&&(t.TgZ(0,"ul"),t.YNc(1,Dt,2,2,"li",59),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.uploadedFiles)}}function Yt(o,e){if(1&o&&t.YNc(0,It,2,1,"ul",34),2&o){const n=t.oxw();t.Q6J("ngIf",n.uploadedFiles.length)}}const w=function(){return{width:"100%"}},Bt=function(){return{width:"600px",minWidth:"300px"}};class g{constructor(e,n,i,c,Xt,to,oo,no,eo,io){this.route=e,this.router=n,this.productService=i,this.loginService=c,this.messageService=Xt,this.breadcrumbService=to,this.brandService=oo,this.currencyService=no,this.listasService=eo,this.fb=io,this.unsubscribe$=new r.xQ,this.perPage=10,this.displayDialogImport=!1,this.uploadedFiles=[],this.marcas=[],this.monedas=[],this.tiposProducto=[],this.actionsExportData=[],this.configCompany={}}ngOnInit(){this.loadData(),this.configCompany$.pipe((0,p.R)(this.unsubscribe$)).subscribe(e=>{this.configCompany=e,this.tiposProducto=this.configCompany.esRestaurante?this.listasService.tiposProductosForRestaurant:this.listasService.tiposProductos}),this.validarPuntoVenta(),this.breadcrumbService.setItems((0,s.kn)(this.route)),this.cols=[{field:"tipoProducto",header:"Tipo"},{field:"nombre",header:"Nombre"},{field:"codigoBarra",header:"Codigo de barra"},{field:"codigo",header:"Codigo"},{field:"unidadCompra",header:"Unidad compra"},{field:"unidad",header:"Unidad venta"},{field:"moneda",header:"Moneda"},{field:"precioCompra",header:"Precio de compra"},{field:"precioVenta",header:"Precio de venta"},{field:"marca",header:"Marca"},{field:"categoria",header:"Categor\xeda"},{field:"stock",header:"Stock"},{header:"Acciones",isActions:!0}],this.builderForm()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}builderForm(){this.filtersForm=this.fb.group({filtroGlobal:[void 0],tiposProductosSelect:[void 0],categoria:[void 0],moneda:[void 0],marca:[void 0]}),this.filtersForm.get("tiposProductosSelect").valueChanges.subscribe(()=>this.resetAndRefreshTable()),this.filtersForm.get("categoria").valueChanges.subscribe(()=>this.resetAndRefreshTable()),this.filtersForm.get("moneda").valueChanges.subscribe(()=>this.resetAndRefreshTable()),this.filtersForm.get("marca").valueChanges.subscribe(()=>this.resetAndRefreshTable()),this.filtersForm.get("filtroGlobal").valueChanges.pipe((0,b.b)(1e3)).subscribe(()=>this.resetAndRefreshTable())}cleanFilters(){this.filtersForm.patchValue({filtroGlobal:void 0,tiposProductosSelect:void 0,categoria:void 0,moneda:void 0,marca:void 0})}resetAndRefreshTable(){this.tabla.reset(),this.refreshTable()}refreshTable(){this.lastLazyLoadEvent&&this.loadLazy(this.lastLazyLoadEvent)}validarPuntoVenta(){this.puntoVenta$.pipe((0,p.R)(this.unsubscribe$)).subscribe(e=>{this.puntoVenta=e})}nuevoProducto(e){this.router.navigateByUrl(`/productos/${e}/nuevo`)}openImport(){this.displayDialogImport=!0}loadLazy(e){this.lastLazyLoadEvent=e;const i=["pageNumber="+e.first/this.perPage,`perPage=${e.rows}`,"paginacion=true"];e.sortOrder&&i.push(`sortOrder=${e.sortOrder}`),e.sortField&&i.push(`sortField=${e.sortField}`),e.filters.global&&i.push(`filterGlobal=${e.filters.global.value.replace("&","%26")}`),this.filtersForm.value.filtroGlobal&&i.push(`filterGlobal=${this.filtersForm.value.filtroGlobal.replace("&","%26")}`),this.filtersForm.value.categoria&&i.push(`idCategoria=${this.filtersForm.value.categoria.id}`),this.filtersForm.value.moneda&&i.push(`codigoMoneda=${this.filtersForm.value.moneda}`),this.filtersForm.value.marca&&i.push(`idMarca=${this.filtersForm.value.marca.id}`),this.filtersForm.value.tiposProductosSelect&&this.filtersForm.value.tiposProductosSelect.forEach(c=>i.push(`tipo=${c}`)),this.setUrlsExport(i),this.productService.findAllPage(i.join("&")).subscribe(c=>{this.totalRecords=c.totalElements,this.products=c.content,this.loading=!1})}linkUpdate(e){return`/productos/${e.tipoProducto?e.tipoProducto.toLowerCase():"articulo"}/editar/${e.id}`}onFileUpload(e){const n=new FormData,i=e.files[0];n.append("file",i,i.name),this.productService.importFromExcel(n).subscribe(c=>{this.displayDialogImport=!1,this.messageService.add({severity:"success",summary:"Archivo importado correctamente",detail:""}),this.tabla._filter()})}downloadTemplate(){window.open("assets/plantilla.xlsx")}setUrlsExport(e){const n=this.loginService.getUser().empresa.uuid,i=`${v.N.endpointApi}/public/export-data/${n}/products`;e.push(`mostrarPrecioCompra=${this.loginService.hasPermission("PRODUCTOS_MOSTRAR_PRECIO_COMPRA")}`),this.actionsExportData=[{icon:"fa fa-file-excel-o",label:"Exportar a excel",url:`${i}.xlsx?${e.join("&")}`},{icon:"fa fa-file-pdf-o",label:"Exportar a pdf",url:`${i}.pdf?${e.join("&")}`}]}loadData(){(0,d.D)(this.brandService.findAll(""),this.currencyService.findAll().pipe((0,C.U)(e=>e.map(n=>({label:n.codigoMoneda,value:n.codigoMoneda}))))).subscribe(e=>{this.marcas=e[0],this.monedas=e[1]})}}g.\u0275fac=function(e){return new(e||g)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(U.M),t.Y36(J.r),t.Y36(y.ez),t.Y36(N.p),t.Y36(S.c),t.Y36(Q.i),t.Y36(M.E),t.Y36(_.qu))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-productos"]],viewQuery:function(e,n){if(1&e&&t.Gf(tt,7),2&e){let i;t.iGM(i=t.CRH())&&(n.tabla=i.first)}},decls:41,vars:31,consts:[["legend","B\xfasqueda"],["ngxsForm","productFilters.productForm",3,"formGroup"],[1,"grid","p-fluid"],[1,"col-6","md:col-4"],[1,"label-form"],["type","text","pInputText","","placeholder","Buscar por nombre o c\xf3digo","formControlName","filtroGlobal",1,"derecha",2,"width","100%"],["defaultLabel","Seleccione tipo de producto","maxSelectedLabels","5","formControlName","tiposProductosSelect",3,"options"],["formControlName","categoria"],[1,"md:col-2","col-6"],["formControlName","moneda","placeholder","Seleccione","name","moneda",3,"options","showClear"],["pTemplate","selectedItem"],["pTemplate","item"],["dataKey","id","formControlName","marca","id","marca","placeholder","Seleccione...","optionLabel","nombre",3,"options","showClear"],[1,"col-12"],[1,"flex","justify-content-end","flex-wrap"],["pButton","","type","button","icon","pi pi-trash","label","Limpiar filtros",2,"width","150px",3,"click"],[1,"grid","mt-2"],["dataKey","id",3,"columns","value","lazy","paginator","rows","totalRecords","responsive","autoLayout","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Importar items desde excel",3,"visible","modal","responsive","minY","maximizable","baseZIndex","visibleChange"],["accept",".xlsx","chooseLabel","Selecciona un archivo excel","uploadLabel","Subir excel","cancelLabel","Cancelar","name","file","maxFileSize","1000000",3,"customUpload","multiple","uploadHandler"],["pTemplate","content"],[2,"text-align","center","margin-top","1rem"],["type","button","pButton","","icon","fa fa-download","label","Descargar plantilla",3,"click"],[2,"vertical-align","middle"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],["ariaLabel","Activa para ordenar","ariaLabelDesc","Activa para ordenar en orden descendente","ariaLabelAsc","Activa para ordenar en orden ascendente",3,"field",4,"ngIf"],["ariaLabel","Activa para ordenar","ariaLabelDesc","Activa para ordenar en orden descendente","ariaLabelAsc","Activa para ordenar en orden ascendente",3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngIf"],["style","text-align: center",4,"ngIf"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"p-column-title"],[4,"appPermission"],["style","text-align: right;",4,"ngIf"],[2,"text-align","right"],[3,"puntoVenta","producto"],["class","capitalized",4,"ngIf"],[1,"capitalized"],["mostrar","button",3,"producto","changeStock"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-pencil","pTooltip","Editar, Eliminar",1,"p-button-success",3,"routerLink"],["type","button","pButton","","icon","fa fa-plus","label","Articulo",1,"m-1",3,"click"],["type","button","pButton","","icon","fa fa-plus","label","Paquete",1,"m-1",3,"click"],["class","m-1","type","button","pButton","","icon","fa fa-plus","label","Insumo",3,"click",4,"ngIf"],["class","m-1","type","button","pButton","","icon","fa fa-plus","label","Platillo",3,"click",4,"ngIf"],["class","m-1","type","button","pButton","","icon","fa fa-plus","label","Combo",3,"click",4,"ngIf"],["type","button","pButton","","icon","fa fa-plus","label","Plan",1,"m-1",3,"click"],["type","button","pButton","","icon","fa fa-file-excel-o","label","Importar de excel",1,"m-1","p-button-secondary",3,"click"],[1,"m-1",3,"items"],["type","button","pButton","","icon","fa fa-plus","label","Insumo",1,"m-1",3,"click"],["type","button","pButton","","icon","fa fa-plus","label","Platillo",1,"m-1",3,"click"],["type","button","pButton","","icon","fa fa-plus","label","Combo",1,"m-1",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"p-card"),t.TgZ(1,"p-fieldset",0),t.TgZ(2,"form",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"label",4),t._uU(6,"Clave de b\xfasqueda"),t.qZA(),t._UZ(7,"input",5),t.qZA(),t.TgZ(8,"div",3),t.TgZ(9,"label",4),t._uU(10,"Tipo producto"),t.qZA(),t._UZ(11,"p-multiSelect",6),t.qZA(),t.TgZ(12,"div",3),t.TgZ(13,"label",4),t._uU(14,"Categor\xeda"),t.qZA(),t._UZ(15,"app-selector-categoria",7),t.qZA(),t.TgZ(16,"div",8),t.TgZ(17,"label",4),t._uU(18,"Moneda"),t.qZA(),t.TgZ(19,"p-dropdown",9),t.YNc(20,ot,3,4,"ng-template",10),t.YNc(21,nt,2,4,"ng-template",11),t.qZA(),t.qZA(),t.TgZ(22,"div",3),t.TgZ(23,"label",4),t._uU(24,"Marca"),t.qZA(),t._UZ(25,"p-dropdown",12),t.qZA(),t.TgZ(26,"div",13),t.TgZ(27,"div",14),t.TgZ(28,"button",15),t.NdJ("click",function(){return n.cleanFilters()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",16),t.TgZ(30,"div",13),t.TgZ(31,"p-table",17,18),t.NdJ("onLazyLoad",function(c){return n.loadLazy(c)}),t.YNc(33,at,2,1,"ng-template",19),t.YNc(34,Jt,2,1,"ng-template",20),t.YNc(35,Mt,8,4,"ng-template",21),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"p-dialog",22),t.NdJ("visibleChange",function(c){return n.displayDialogImport=c}),t.TgZ(37,"p-fileUpload",23),t.NdJ("uploadHandler",function(c){return n.onFileUpload(c)}),t.YNc(38,Yt,1,1,"ng-template",24),t.qZA(),t.TgZ(39,"div",25),t.TgZ(40,"button",26),t.NdJ("click",function(){return n.downloadTemplate()}),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.filtersForm),t.xp6(9),t.Q6J("options",n.tiposProducto),t.xp6(8),t.Akn(t.DdM(28,w)),t.Q6J("options",n.monedas)("showClear",!0),t.xp6(6),t.Akn(t.DdM(29,w)),t.Q6J("options",n.marcas)("showClear",!0),t.xp6(6),t.Q6J("columns",n.cols)("value",n.products)("lazy",!0)("paginator",!0)("rows",n.perPage)("totalRecords",n.totalRecords)("responsive",!0)("autoLayout",!0),t.xp6(5),t.Akn(t.DdM(30,Bt)),t.Q6J("visible",n.displayDialogImport)("modal",!0)("responsive",!0)("minY",70)("maximizable",!0)("baseZIndex",1e4),t.xp6(1),t.Q6J("customUpload",!0)("multiple",!1))},directives:[D.Z,I.p,_._Y,_.JL,Y.w5,_.sg,_.Fj,B.o,_.JJ,_.u,L.NU,E.U,O.Lt,y.jx,R.Hq,Z.iA,u.sg,Z.lQ,u.O5,Z.fz,u.RF,u.n9,z.l,q.e,k.d,u.ED,j.u,l.rH,H.h,G.V,V.p],pipes:[K.s,W.z,X.Z],styles:[".derecha[_ngcontent-%COMP%]{float:right}"]}),(0,h.gn)([(0,x.Ph)(m.Z.getOffice)],g.prototype,"puntoVenta$",void 0),(0,h.gn)([(0,x.Ph)(m.Z.getConfig)],g.prototype,"configCompany$",void 0);var P=a(54578),$=a(35308);const Lt=[{path:"",component:g,canActivate:[P.P],data:{breadcrumb:[{label:"Administraci\xf3n"},{label:"Productos"}]}},{path:":tipo/editar/:id",component:$.g,data:{isEdit:!0,title:"Editar producto",breadcrumb:[{label:"Administraci\xf3n"},{label:"Productos"},{label:"Editar"}]},canActivate:[P.P]},{path:":tipo/nuevo",component:$.g,data:{isEdit:!1,title:"Nuevo producto",breadcrumb:[{label:"Administraci\xf3n"},{label:"Productos"},{label:"Nuevo"}]},canActivate:[P.P]}];let Et=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(Lt)],l.Bz]}),o})();var T=a(20958),Ot=a(19406),Rt=a(52484),zt=a(1917);let F=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez,T.m]]}),o})(),qt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez,T.m,F]]}),o})();const kt=[];let jt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(kt)],l.Bz]}),o})(),Ht=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez,jt,T.m]]}),o})();var Gt=a(16672),Vt=a(21767),Kt=a(99266);let Wt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[Et,T.m,Ot.P,Gt.u,Vt.Z,Kt.w,Rt.PreparacionesModule,zt.GruposModule,Ht,qt,F]]}),o})()},77121:(A,f,a)=>{a.d(f,{Z:()=>x});var l=a(80267),h=a(5e3);let x=(()=>{class s{transform(r,d,p){r||(r=0),p?!p&&p>4&&(p=4):p=2;const b=l.Z.find(v=>v.codigoMoneda===d);return`${b?b.simbolo:"Desc."} ${parseFloat(r).toFixed(p)}`}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275pipe=h.Yjl({name:"montoDinero",type:s,pure:!0}),s})()}}]);