"use strict";(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[8592],{21767:(S,p,o)=>{o.d(p,{Z:()=>t});var u=o(20958),_=o(5e3);let t=(()=>{class l{}return l.\u0275fac=function(m){return new(m||l)},l.\u0275mod=_.oAB({type:l}),l.\u0275inj=_.cJS({imports:[[u.m]]}),l})()},1917:(S,p,o)=>{o.r(p),o.d(p,{GruposModule:()=>s});var u=o(69808),_=o(74202),t=o(54578),l=o(25563),c=o(5e3);const m=[{path:"",component:l.L,data:{breadcrumb:[{label:"Administraci\xf3n"},{label:"Grupos"}]},canActivate:[t.P]}];let f=(()=>{class r{}return r.\u0275fac=function(h){return new(h||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[_.Bz.forChild(m)],_.Bz]}),r})();var g=o(20958),v=o(19406),A=o(45330);let s=(()=>{class r{}return r.\u0275fac=function(h){return new(h||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[A.xA],imports:[[u.ez,f,g.m,v.P]]}),r})()},52484:(S,p,o)=>{o.r(p),o.d(p,{PreparacionesModule:()=>A});var u=o(69808),_=o(74202),t=o(54578),l=o(19960),c=o(5e3);const m=[{path:"",component:l.Q,data:{breadcrumb:[{label:"Administraci\xf3n"},{label:"Preparaciones"}]},canActivate:[t.P]}];let f=(()=>{class s{}return s.\u0275fac=function(d){return new(d||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[_.Bz.forChild(m)],_.Bz]}),s})();var g=o(20958),v=o(45330);let A=(()=>{class s{}return s.\u0275fac=function(d){return new(d||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({providers:[v.xA],imports:[[u.ez,f,g.m]]}),s})()},14960:(S,p,o)=>{o.d(p,{s:()=>$});var u=o(82817),_=o(63792),t=o(5e3),l=o(74202),c=o(96310),m=o(15776),f=o(20207),g=o(59783),v=o(47745),A=o(74297),s=o(28061),r=o(69808),d=o(14036),h=o(93075),C=o(40845),T=o(98952),x=o(4119);function P(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("(",e.empresa.razonSocial,")")}}function Z(n,a){if(1&n&&t._UZ(0,"p-sortIcon",14),2&n){const e=t.oxw().$implicit;t.Q6J("field",e.field)}}function D(n,a){if(1&n&&(t.TgZ(0,"th",12),t._uU(1),t.YNc(2,Z,1,1,"p-sortIcon",13),t.qZA()),2&n){const e=a.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij(" ",e.header," "),t.xp6(1),t.Q6J("ngIf",!e.isActions)}}function O(n,a){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,D,3,3,"th",11),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function y(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4).$implicit;t.xp6(1),t.Oqu(e.nombre)}}function I(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"span",20),t._uU(2,"Nombre"),t.qZA(),t.YNc(3,y,2,1,"span",1),t.BQk()),2&n){const e=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[e.field])}}function B(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4).$implicit;t.xp6(1),t.Oqu(e.icono)}}function R(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"span",20),t._uU(2,"Icono"),t.qZA(),t.YNc(3,B,2,1,"span",1),t.BQk()),2&n){const e=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[e.field])}}function U(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4).$implicit;t.xp6(1),t.Oqu(e.ruta)}}function L(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"span",20),t._uU(2,"Ruta"),t.qZA(),t.YNc(3,U,2,1,"span",1),t.BQk()),2&n){const e=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",i[e.field])}}function J(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i[e.field]," ")}}function Q(n,a){1&n&&(t.ynx(0),t.YNc(1,I,4,1,"ng-container",18),t.YNc(2,R,4,1,"ng-container",18),t.YNc(3,L,4,1,"ng-container",18),t.YNc(4,J,2,1,"ng-container",19),t.BQk()),2&n&&(t.xp6(1),t.Q6J("ngSwitchCase","nombre"),t.xp6(1),t.Q6J("ngSwitchCase","icono"),t.xp6(1),t.Q6J("ngSwitchCase","ruta"))}function Y(n,a){if(1&n){const e=t.EpF();t.ynx(0,21),t.TgZ(1,"span",20),t._uU(2,"Acciones"),t.qZA(),t.TgZ(3,"button",22),t.NdJ("click",function(){t.CHM(e);const E=t.oxw(2).$implicit;return t.oxw().deleteShortcut(E.id)}),t.qZA(),t.BQk()}}function b(n,a){if(1&n&&(t.TgZ(0,"td",16),t.YNc(1,Q,5,3,"ng-container",1),t.YNc(2,Y,4,0,"ng-container",17),t.qZA()),2&n){const e=a.$implicit;t.Q6J("ngSwitch",e.field),t.xp6(1),t.Q6J("ngIf",!e.isActions),t.xp6(1),t.Q6J("ngIf",e.isActions)}}function N(n,a){if(1&n&&(t.TgZ(0,"tr"),t.YNc(1,b,3,3,"td",15),t.qZA()),2&n){const e=a.columns;t.xp6(1),t.Q6J("ngForOf",e)}}function K(n,a){1&n&&(t.TgZ(0,"div",24),t._UZ(1,"button",25),t.qZA())}function W(n,a){1&n&&t.YNc(0,K,2,0,"ng-template",23)}const F=function(){return{"margin-bottom":"20px"}};let $=(()=>{class n{constructor(e,i,E,M,j,w,z){this.route=e,this.router=i,this.companyService=E,this.shortcutsService=M,this.loginService=j,this.messageService=w,this.breadcrumbService=z,this.shortcutsMenu=_.i}ngOnInit(){this.breadcrumbService.setItems((0,u.kn)(this.route)),this.cols=[{field:"nombre",header:"Nombre"},{field:"icono",header:"Icono"},{field:"ruta",header:"Ruta"},{header:"Acciones",isActions:!0}],this.loadIdEmpresa().then(()=>{this.companyService.findById(this.idEmpresa).subscribe(e=>{this.empresa=e,this.loadShortcuts()})})}get modeRoot(){return this.route.snapshot.data.modeRoot}loadShortcuts(){this.shortcutsService.findAll(this.idEmpresa,this.modeRoot).subscribe(e=>this.shortcuts=e)}addShortcut(){this.shortcutMenuSelected.empresa={id:this.idEmpresa},this.shortcutMenuSelected.roles=this.shortcutMenuSelected.rol.join(","),this.shortcutsService.save(this.idEmpresa,this.shortcutMenuSelected,this.modeRoot).subscribe(e=>{this.loadShortcuts(),this.shortcutMenuSelected=null})}deleteShortcut(e){this.shortcutsService.deleteById(this.idEmpresa,e,this.modeRoot).subscribe(()=>{this.messageService.add({severity:"success",summary:"Mensaje",detail:"Acceso directo eliminado correctamente."}),this.loadShortcuts()})}loadIdEmpresa(){return new Promise(e=>{this.modeRoot?this.route.params.subscribe(i=>{this.idEmpresa=i.idEmpresa,e(void 0)}):(this.idEmpresa=this.loginService.getUser().empresa.id,e(void 0))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(c.J),t.Y36(m.M),t.Y36(f.r),t.Y36(g.ez),t.Y36(v.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shortcuts"]],decls:17,vars:12,consts:[[1,"p-panel-title"],[4,"ngIf"],[1,"grid"],[1,"col-6"],["placeholder","Seleccione un acceso directo",3,"options","ngModel","showClear","ngModelChange"],["pButton","","type","button","label","Agregar",3,"click"],[1,"col-12"],["dataKey","id",3,"columns","value","responsive","autoLayout"],["dt",""],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],["ariaLabel","Activa para ordenar","ariaLabelDesc","Activa para ordenar en orden descendente","ariaLabelAsc","Activa para ordenar en orden ascendente",3,"field",4,"ngIf"],["ariaLabel","Activa para ordenar","ariaLabelDesc","Activa para ordenar en orden descendente","ariaLabelAsc","Activa para ordenar en orden ascendente",3,"field"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["style","text-align: center",4,"ngIf"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"p-column-title"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Eliminar",1,"p-button-danger",3,"click"],["pTemplate","summary"],[2,"text-align","left"],["routerLink","/empresas","pButton","","type","button","label","Volver",1,"p-button-secondary",2,"margin-right","0.4rem"]],template:function(e,i){1&e&&(t.TgZ(0,"p-card"),t.TgZ(1,"p-panel"),t.TgZ(2,"p-header"),t.TgZ(3,"h5",0),t._uU(4,"Accesos directos "),t.YNc(5,P,2,1,"span",1),t.qZA(),t.qZA(),t.TgZ(6,"div",2),t.TgZ(7,"div",3),t.TgZ(8,"p-dropdown",4),t.NdJ("ngModelChange",function(M){return i.shortcutMenuSelected=M}),t.qZA(),t.qZA(),t.TgZ(9,"div",3),t.TgZ(10,"button",5),t.NdJ("click",function(){return i.addShortcut()}),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"p-table",7,8),t.YNc(14,O,2,1,"ng-template",9),t.YNc(15,N,2,1,"ng-template",10),t.YNc(16,W,1,0,null,1),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Akn(t.DdM(11,F)),t.xp6(4),t.Q6J("ngIf",i.empresa&&i.modeRoot),t.xp6(3),t.Q6J("options",i.shortcutsMenu)("ngModel",i.shortcutMenuSelected)("showClear",!0),t.xp6(4),t.Q6J("columns",i.cols)("value",i.shortcuts)("responsive",!0)("autoLayout",!0),t.xp6(4),t.Q6J("ngIf",i.modeRoot))},directives:[A.Z,s.s,g.h4,r.O5,d.Lt,h.JJ,h.On,C.Hq,T.iA,g.jx,r.sg,T.lQ,T.fz,r.RF,r.n9,r.ED,x.u,l.rH],encapsulation:2}),n})()},92676:(S,p,o)=>{o.d(p,{_:()=>_});var u=o(5e3);let _=(()=>{class t{transform(c,m){return"0"==c?"Aceptado":"98"==c?"Pendiente":"99"==c?"Error":""}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275pipe=u.Yjl({name:"estadoSummary",type:t,pure:!0}),t})()}}]);