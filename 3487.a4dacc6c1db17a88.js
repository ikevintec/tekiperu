"use strict";(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[3487],{75875:(W,q,a)=>{a.d(q,{d:()=>v});var A=a(70655),n=a(5e3),L=a(85932),x=a(81575),g=a(8929),U=a(7625),N=a(12216),l=a(59783),b=a(69808),t=a(4119),M=a(40845),E=a(12145),I=a(93075),Z=a(9757),F=a(15315),y=a(31424),f=a(18872),Y=a(98952),h=a(70050);const D=["searchInputModalRef"],$=["searchAutocompleteRef"];function J(d,p){if(1&d){const s=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){return n.CHM(s),n.oxw().emitAddItem()}),n.qZA()}if(2&d){const s=n.oxw();n.Q6J("disabled",s.disableAddItem)}}function S(d,p){if(1&d&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&d){const s=n.oxw().$implicit;n.xp6(1),n.hij("",s.codigo," - ")}}function O(d,p){if(1&d&&(n.TgZ(0,"span",19),n._UZ(1,"app-mostrar-stock",20),n.qZA()),2&d){const s=n.oxw().$implicit;n.xp6(1),n.Q6J("producto",s)}}function w(d,p){if(1&d&&(n.YNc(0,S,2,1,"span",17),n._uU(1),n.YNc(2,O,2,1,"span",18)),2&d){const s=p.$implicit,u=n.oxw();n.Q6J("ngIf",s.codigo),n.xp6(1),n.hij("",s.nombre," "),n.xp6(1),n.Q6J("ngIf",u.configCompany.inventario)}}function B(d,p){1&d&&(n.TgZ(0,"th"),n._uU(1,"Stock"),n.qZA())}function Q(d,p){if(1&d&&(n.TgZ(0,"tr"),n.TgZ(1,"th"),n._uU(2,"C\xf3digo de barra"),n.qZA(),n.TgZ(3,"th"),n._uU(4,"Nombre"),n.qZA(),n.TgZ(5,"th"),n._uU(6,"Precio de venta"),n.qZA(),n.YNc(7,B,2,0,"th",17),n.TgZ(8,"th"),n._uU(9,"Seleccionar"),n.qZA(),n.qZA()),2&d){const s=n.oxw();n.xp6(7),n.Q6J("ngIf",s.configCompany.inventario)}}function P(d,p){if(1&d&&(n.TgZ(0,"td"),n._UZ(1,"app-mostrar-stock",24),n.qZA()),2&d){const s=n.oxw().$implicit;n.xp6(1),n.Q6J("producto",s)}}function R(d,p){if(1&d){const s=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._UZ(6,"app-precio-producto-detalle",21),n.qZA(),n.YNc(7,P,2,1,"td",17),n.TgZ(8,"td",22),n.TgZ(9,"p-button",23),n.NdJ("onClick",function(){const K=n.CHM(s).$implicit;return n.oxw().emitProduct(K)}),n.qZA(),n.qZA(),n.qZA()}if(2&d){const s=p.$implicit,u=n.oxw();n.xp6(2),n.Oqu(s.codigoBarra),n.xp6(2),n.Oqu(s.nombre),n.xp6(2),n.Q6J("puntoVenta",u.puntoVenta)("producto",s),n.xp6(1),n.Q6J("ngIf",u.configCompany.inventario)}}const V=function(){return{width:"50vw"}},k=function(){return{height:"35vh"}};class v{constructor(p,s){this.productService=p,this.messageService=s,this.unsubscribe$=new g.xQ,this.displaySearchProduct=!1,this.filteredProducts=[],this.configCompany={},this.selectProduct=new n.vpe,this.addItem=new n.vpe}ngOnInit(){this.resultadoBusqueda=[],this.puntoVenta$.pipe((0,U.R)(this.unsubscribe$)).subscribe(p=>{this.puntoVenta=p}),this.configCompany$.pipe((0,U.R)(this.unsubscribe$)).subscribe(p=>{this.configCompany=p})}setFocusInput(){setTimeout(()=>{this.searchAutocompleteRef&&this.searchAutocompleteRef.focusInput()},30)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}get placeHolderBusqueda(){return"Ingrese t\xe9rmino de b\xfasqueda o c\xf3digo de barras"}get titleModal(){return this.titleModalSearch?this.titleModalSearch:"Buscar producto"}openDialogSearchProduct(){this.displaySearchProduct=!0,this.searchInput=void 0,this.resultadoBusqueda=[],this.setFocusInput(),this.autoSearchOnOpenModal&&this.searchProduct()}keyPressInputEvent(p){"Enter"===p.key&&(p.preventDefault(),this.searchProduct(!0))}inputEvent(){this.searchProduct()}changeTipoBusqueda(){this.searchInput="",setTimeout(()=>{this.searchInputModalRef.nativeElement.focus()},0)}searchProduct(p){let s=["paginacion=false","limit=50"];p?s.push(`codigoBarra=${this.searchInput}`):(this.searchInput&&s.push(`filterGlobal=${this.searchInput.replace("&","%26")}`),this.aditionalParamsGeneralSearch&&(s=[...s,...this.aditionalParamsGeneralSearch])),this.productService.findAllList(s.join("&")).subscribe(u=>{u.length||this.messageService.add({severity:"warn",summary:"B\xfasqueda de producto",detail:`Producto no encontrado (${this.searchInput})`}),1===u.length&&p&&this.emitProduct(u[0]),u.length>1&&p&&(this.displaySearchProduct=!0),this.resultadoBusqueda=u})}emitProduct(p){this.searchInput="",this.filteredProducts=[],this.searchInput="",this.setFocusInput(),this.selectProduct.emit(p),this.displaySearchProduct=!1}emitAddItem(){this.addItem.emit()}filterProductByCodigoAndNombre(p){let s=[`filterGlobal=${p.query.replace("&","%26")}`,"paginacion=false","limit=50"];this.aditionalParamsGeneralSearch&&(s=[...s,...this.aditionalParamsGeneralSearch]),this.productService.findAllList(s.join("&")).subscribe(u=>{this.filteredProducts=u})}}v.\u0275fac=function(p){return new(p||v)(n.Y36(N.M),n.Y36(l.ez))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-agregar-producto"]],viewQuery:function(p,s){if(1&p&&(n.Gf(D,5),n.Gf($,5)),2&p){let u;n.iGM(u=n.CRH())&&(s.searchInputModalRef=u.first),n.iGM(u=n.CRH())&&(s.searchAutocompleteRef=u.first)}},inputs:{visibleAddItem:"visibleAddItem",aditionalParamsGeneralSearch:"aditionalParamsGeneralSearch",autoSearchOnOpenModal:"autoSearchOnOpenModal",titleModalSearch:"titleModalSearch",disableAddItem:"disableAddItem"},outputs:{selectProduct:"selectProduct",addItem:"addItem"},ngContentSelectors:["*"],decls:20,vars:19,consts:[[1,"p-inputgroup"],["tooltipPosition","top","pTooltip","Agregar item","pButton","","type","button","icon","fa fa-plus","class","p-button-success",3,"disabled","click",4,"ngIf"],[1,"p-fluid",2,"width","100%"],["field","nombre",3,"ngModel","suggestions","placeholder","minLength","onKeyUp","ngModelChange","onSelect","completeMethod"],["searchAutocompleteRef",""],["pTemplate","item"],["tooltipPosition","top","pTooltip","Abrir buscador","pButton","","type","button","icon","pi pi-search",3,"click"],["appendTo","body",3,"header","visible","modal","draggable","resizable","visibleChange"],[1,"grid","p-fluid"],[1,"col-12"],["type","text","pInputText","",2,"width","100%",3,"ngModel","placeholder","input","ngModelChange"],["searchInputModalRef",""],[3,"value"],["pTemplate","header"],["pTemplate","body"],["type","button","pButton","","icon","pi pi-times","label","Cerrar",1,"p-button-secondary",3,"click"],["tooltipPosition","top","pTooltip","Agregar item","pButton","","type","button","icon","fa fa-plus",1,"p-button-success",3,"disabled","click"],[4,"ngIf"],["class","ml-3",4,"ngIf"],[1,"ml-3"],["mostrar","tag",3,"producto"],[3,"puntoVenta","producto"],[2,"text-align","center"],["icon","pi pi-check",3,"onClick"],["mostrar","button",3,"producto"]],template:function(p,s){1&p&&(n.F$t(),n.TgZ(0,"div",0),n.YNc(1,J,1,1,"button",1),n.TgZ(2,"div",2),n.TgZ(3,"p-autoComplete",3,4),n.NdJ("onKeyUp",function(m){return s.keyPressInputEvent(m)})("ngModelChange",function(m){return s.searchInput=m})("onSelect",function(m){return s.emitProduct(m)})("completeMethod",function(m){return s.filterProductByCodigoAndNombre(m)}),n.YNc(5,w,3,3,"ng-template",5),n.qZA(),n.qZA(),n.Hsn(6),n.TgZ(7,"button",6),n.NdJ("click",function(){return s.openDialogSearchProduct()}),n.qZA(),n.qZA(),n.TgZ(8,"p-dialog",7),n.NdJ("visibleChange",function(m){return s.displaySearchProduct=m}),n.TgZ(9,"div",8),n.TgZ(10,"div",9),n.TgZ(11,"input",10,11),n.NdJ("input",function(){return s.inputEvent()})("ngModelChange",function(m){return s.searchInput=m}),n.qZA(),n.qZA(),n.TgZ(13,"div",9),n.TgZ(14,"p-scrollPanel"),n.TgZ(15,"p-table",12),n.YNc(16,Q,10,1,"ng-template",13),n.YNc(17,R,10,5,"ng-template",14),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(18,"p-footer"),n.TgZ(19,"button",15),n.NdJ("click",function(){return s.displaySearchProduct=!1}),n.qZA(),n.qZA(),n.qZA()),2&p&&(n.xp6(1),n.Q6J("ngIf",s.visibleAddItem),n.xp6(2),n.Q6J("ngModel",s.searchInput)("suggestions",s.filteredProducts)("placeholder",s.placeHolderBusqueda)("minLength",1),n.xp6(5),n.Akn(n.DdM(17,V)),n.Q6J("header",s.titleModal)("visible",s.displaySearchProduct)("modal",!0)("draggable",!1)("resizable",!1),n.xp6(3),n.Q6J("ngModel",s.searchInput)("placeholder",s.placeHolderBusqueda),n.xp6(3),n.Akn(n.DdM(18,k)),n.xp6(1),n.Q6J("value",s.resultadoBusqueda))},directives:[b.O5,t.u,M.Hq,E.Qc,I.JJ,I.On,l.jx,Z.d,F.V,I.Fj,y.o,f.P,Y.iA,h.e,M.zx,l.$_],styles:[""]}),(0,A.gn)([(0,L.Ph)(x.Z.getOffice)],v.prototype,"puntoVenta$",void 0),(0,A.gn)([(0,L.Ph)(x.Z.getConfig)],v.prototype,"configCompany$",void 0)},13487:(W,q,a)=>{a.r(q),a.d(q,{InventarioAjusteModule:()=>Xt});var A=a(74202),n=a(54578),L=a(70655),x=a(85932),g=a(82817),U=a(81575),N=a(8929),l=a(93075),b=a(7625),t=a(5e3),M=a(12216),E=a(20207),I=a(28566),Z=a(59783),F=a(47745),y=a(74297),f=a(69808),Y=a(75875),h=a(98952),D=a(9757),$=a(17102),J=a(20657),S=a(31424),O=a(43724),w=a(66239),B=a(24394),Q=a(4119),P=a(40845),R=a(15315),V=a(75652);function k(o,r){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"Lote"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Cantidad"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Caducidad"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Acciones"),t.qZA(),t.qZA())}function G(o,r){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"Serie"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Acciones"),t.qZA(),t.qZA())}function v(o,r){if(1&o&&(t.YNc(0,k,9,0,"tr",11),t.YNc(1,G,5,0,"tr",11)),2&o){const e=t.oxw(3);t.Q6J("ngIf","LOTE"===e.producto.tipoLote),t.xp6(1),t.Q6J("ngIf","SERIE"===e.producto.tipoLote)}}function d(o,r){1&o&&t._UZ(0,"input",29)}function p(o,r){if(1&o&&(t._uU(0),t._UZ(1,"i",30)),2&o){const e=t.oxw(2).$implicit;t.hij(" ",e.get("serie").value," ")}}function s(o,r){1&o&&t._UZ(0,"p-message",31)}function u(o,r){1&o&&t._UZ(0,"input",32)}function m(o,r){if(1&o&&(t._uU(0),t._UZ(1,"i",30)),2&o){const e=t.oxw(2).$implicit;t.hij(" ",e.get("cantidad").value," ")}}function K(o,r){1&o&&t._UZ(0,"p-message",33)}function z(o,r){1&o&&t._UZ(0,"p-message",34)}function X(o,r){if(1&o&&t._UZ(0,"p-calendar",35),2&o){const e=t.oxw(5);t.Q6J("readonlyInput",!0)("locale",e.ls.calendarEs)}}function tt(o,r){if(1&o&&(t._uU(0),t.ALo(1,"date"),t._UZ(2,"i",30)),2&o){const e=t.oxw(2).$implicit;t.hij(" ",t.xi3(1,1,e.get("fechaVencimiento").value,"dd/MM/yyyy")," ")}}function et(o,r){1&o&&t._UZ(0,"p-message",36)}function ot(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(2).rowIndex;return t.oxw(3).deleteLoteForm(c)}),t.qZA()}}function nt(o,r){if(1&o&&(t.TgZ(0,"tr",18),t.TgZ(1,"td",19),t.TgZ(2,"span",20),t._uU(3,"Lote"),t.qZA(),t.TgZ(4,"p-cellEditor"),t.YNc(5,d,1,0,"ng-template",21),t.YNc(6,p,2,1,"ng-template",22),t.qZA(),t.YNc(7,s,1,0,"p-message",23),t.qZA(),t.TgZ(8,"td",19),t.TgZ(9,"span",20),t._uU(10,"Cantidad"),t.qZA(),t.TgZ(11,"p-cellEditor"),t.YNc(12,u,1,0,"ng-template",21),t.YNc(13,m,2,1,"ng-template",22),t.qZA(),t.YNc(14,K,1,0,"p-message",24),t.YNc(15,z,1,0,"p-message",25),t.qZA(),t.TgZ(16,"td",19),t.TgZ(17,"span",20),t._uU(18,"Caducidad"),t.qZA(),t.TgZ(19,"p-cellEditor"),t.YNc(20,X,1,2,"ng-template",21),t.YNc(21,tt,3,4,"ng-template",22),t.qZA(),t.YNc(22,et,1,0,"p-message",26),t.qZA(),t.TgZ(23,"td",27),t.TgZ(24,"span",20),t._uU(25,"Acciones"),t.qZA(),t.YNc(26,ot,1,0,"button",28),t.qZA(),t.qZA()),2&o){const e=t.oxw(),c=e.$implicit;t.Q6J("formGroupName",e.rowIndex),t.xp6(7),t.Q6J("ngIf",c.get("serie").touched&&(null==c.get("serie").errors?null:c.get("serie").errors.required)),t.xp6(7),t.Q6J("ngIf",c.get("cantidad").touched&&(null==c.get("cantidad").errors?null:c.get("cantidad").errors.required)),t.xp6(1),t.Q6J("ngIf",c.get("cantidad").touched&&(null==c.get("cantidad").errors?null:c.get("cantidad").errors.min)),t.xp6(7),t.Q6J("ngIf",c.get("fechaVencimiento").touched&&(null==c.get("fechaVencimiento").errors?null:c.get("fechaVencimiento").errors.required)),t.xp6(4),t.Q6J("ngIf",!c.id)}}function rt(o,r){1&o&&t._UZ(0,"input",29)}function it(o,r){if(1&o&&(t._uU(0),t._UZ(1,"i",30)),2&o){const e=t.oxw(2).$implicit;t.hij(" ",e.get("serie").value," ")}}function at(o,r){1&o&&t._UZ(0,"p-message",39)}function st(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(2).rowIndex;return t.oxw(3).deleteLoteForm(c)}),t.qZA()}}function ct(o,r){if(1&o&&(t.TgZ(0,"tr",18),t.TgZ(1,"td",19),t.TgZ(2,"span",20),t._uU(3,"Serie"),t.qZA(),t.TgZ(4,"p-cellEditor"),t.YNc(5,rt,1,0,"ng-template",21),t.YNc(6,it,2,1,"ng-template",22),t.qZA(),t.YNc(7,at,1,0,"p-message",38),t.qZA(),t.TgZ(8,"td",27),t.TgZ(9,"span",20),t._uU(10,"Acciones"),t.qZA(),t.YNc(11,st,1,0,"button",28),t.qZA(),t.qZA()),2&o){const e=t.oxw(),c=e.$implicit;t.Q6J("formGroupName",e.rowIndex),t.xp6(7),t.Q6J("ngIf",c.get("serie").touched&&(null==c.get("serie").errors?null:c.get("serie").errors.required)),t.xp6(4),t.Q6J("ngIf",!c.id)}}function pt(o,r){if(1&o&&(t.YNc(0,nt,27,6,"tr",17),t.YNc(1,ct,12,3,"tr",17)),2&o){const e=t.oxw(3);t.Q6J("ngIf","LOTE"===e.producto.tipoLote),t.xp6(1),t.Q6J("ngIf","SERIE"===e.producto.tipoLote)}}function lt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"div",40),t._uU(2),t.qZA(),t.TgZ(3,"div",40),t.TgZ(4,"button",41),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).guardar()}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(3);t.xp6(2),t.hij(" Restante: ",e.faltantes," ")}}function ut(o,r){1&o&&t._UZ(0,"p-message",42)}function dt(o,r){if(1&o&&(t.TgZ(0,"p-card"),t.TgZ(1,"p-table",12),t.YNc(2,v,2,2,"ng-template",13),t.YNc(3,pt,2,2,"ng-template",14),t.YNc(4,lt,5,1,"ng-template",15),t.qZA(),t.YNc(5,ut,1,0,"p-message",16),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("value",e.modelFormLotes.controls)("responsive",!0),t.xp6(4),t.Q6J("ngIf",e.modelForm.get("lotes").touched&&(null==e.modelForm.get("lotes").errors?null:e.modelForm.get("lotes").errors.qtyLotes))}}function _t(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",3),t.TgZ(1,"div",4),t.TgZ(2,"div",5),t.TgZ(3,"label",6),t._uU(4,"Producto"),t.qZA(),t._UZ(5,"input",7),t.qZA(),t.TgZ(6,"div",8),t.TgZ(7,"label",6),t._uU(8,"Cantidad"),t.qZA(),t._UZ(9,"input",7),t.qZA(),t.TgZ(10,"div",9),t.TgZ(11,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().addLoteForm()}),t.qZA(),t.YNc(12,dt,6,3,"p-card",11),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.modelForm),t.xp6(5),t.Q6J("value",e.producto.nombre),t.xp6(4),t.Q6J("value",e.cantidad),t.xp6(3),t.Q6J("ngIf",e.modelFormLotes)}}const mt=function(){return{width:"80vw"}};let gt=(()=>{class o{constructor(e,i,c){this.store=e,this.fb=i,this.ls=c,this.unsubscribe$=new N.xQ,this.cantidad=0,this.displayModal=!1,this.onChange=_=>{},this.onTouched=_=>{}}ngOnInit(){this.builderForm(),this.ajusteInventario&&(console.log(this.inventario),this.inventario&&this.inventario.lotes&&this.inventario.lotes.forEach(e=>this.addLoteForm(e)))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(e){e.cantidad.currentValue&&this.modelForm&&(this.modelForm.clearValidators(),this.modelForm.get("lotes").setValidators([(0,g.eK)(1),(0,g.Lw)(e.cantidad.currentValue)]),this.modelForm.get("lotes").updateValueAndValidity(),this.modelForm.get("lotes").markAsTouched())}builderForm(){this.modelForm=this.fb.group({lotes:this.fb.array([],[(0,g.eK)(1),(0,g.Lw)(this.cantidad)])}),this.modelForm.get("lotes").valueChanges.pipe((0,w.Rs)(this.unsubscribe$)).subscribe(()=>this.propagateChange())}get inventario(){return this.producto.inventarios.find(e=>e.puntoVenta.id===this.puntoVenta.id)}get modelFormLotes(){return this.modelForm.get("lotes")}get faltantes(){return this.cantidad-this.modelFormLotes.getRawValue().map(e=>e.cantidad).reduce(g.IH,0)}get tituloModal(){return"LOTE"===this.producto.tipoLote?"Lotes":"Series"}addLoteForm(e){this.modelFormLotes.push(this.createLoteForm(e||{}))}deleteLoteForm(e){this.modelFormLotes.removeAt(e)}createLoteForm(e){const i=this.fb.group({id:[e.id,[]],cantidad:[e.cantidad?e.cantidad:1,[l.kI.required,l.kI.min(.01)]],tipoLote:[this.producto.tipoLote,[l.kI.required]],serie:[e.serie,[l.kI.required]],fechaFabricacion:[e.fechaFabricacion?new Date(e.fechaFabricacion):void 0,[]],fechaVencimiento:[e.fechaVencimiento?new Date(e.fechaVencimiento):void 0,[]]});return"LOTE"===this.producto.tipoLote&&i.get("fechaVencimiento").setValidators([l.kI.required]),i}openModal(){this.displayModal=!0}guardar(){(0,g.c2)(this.modelForm),this.modelForm.valid&&(this.displayModal=!1)}propagateChange(){this.onChange(this.modelFormLotes.getRawValue()),this.onTouched(this.modelFormLotes.getRawValue())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){e&&Array.isArray(e)&&e.forEach(i=>this.createLoteForm(i))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.yh),t.Y36(l.qu),t.Y36(B.E))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-producto-lotes"]],inputs:{cantidad:"cantidad",producto:"producto",ajusteInventario:"ajusteInventario",puntoVenta:"puntoVenta"},features:[t._Bn([{provide:l.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0}]),t.TTD],decls:4,vars:9,consts:[["pTooltip","Abrir","type","button","pButton","","icon","fa fa-barcode",1,"p-button-secondary","m-l-3","m-r-3",3,"click"],["appendTo","body",3,"header","visible","modal","draggable","resizable","visibleChange"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[1,"grid"],[1,"col-8"],[1,"label-form"],["disabled","","type","text","pInputText","",2,"width","100%",3,"value"],[1,"col-4"],[1,"col-12","p-fluid"],["pButton","","pTooltip","Agregar Lote/Serie","icon","pi pi-plus",1,"mb-3",3,"click"],[4,"ngIf"],["formArrayName","lotes",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["severity","error","text","Cantidad de lotes/series no corresponde al stock.",4,"ngIf"],[3,"formGroupName",4,"ngIf"],[3,"formGroupName"],["pEditableColumn",""],[1,"p-column-title"],["pTemplate","input"],["pTemplate","output"],["severity","error","text","Ingrese n\xfamero de lote",4,"ngIf"],["severity","error","text","Ingrese cantidad",4,"ngIf"],["severity","error","text","Valor incorrecto",4,"ngIf"],["severity","error","text","Ingrese caducidad",4,"ngIf"],[1,"center"],["class","p-button-secondary m-l-3 m-r-3","pTooltip","Eliminar","type","button","pButton","","icon","pi pi-trash",3,"click",4,"ngIf"],["type","text","pInputText","","formControlName","serie"],[1,"pi","pi-pencil",2,"font-size","1.5em","float","right"],["severity","error","text","Ingrese n\xfamero de lote"],["type","text","pInputText","","formControlName","cantidad","pKeyFilter","num"],["severity","error","text","Ingrese cantidad"],["severity","error","text","Valor incorrecto"],["appendTo","body","formControlName","fechaVencimiento","dateFormat","dd/mm/yy",3,"readonlyInput","locale"],["severity","error","text","Ingrese caducidad"],["pTooltip","Eliminar","type","button","pButton","","icon","pi pi-trash",1,"p-button-secondary","m-l-3","m-r-3",3,"click"],["severity","error","text","Ingrese n\xfamero de serie",4,"ngIf"],["severity","error","text","Ingrese n\xfamero de serie"],[1,"col-6"],["type","button","pButton","","label","Aceptar",3,"click"],["severity","error","text","Cantidad de lotes/series no corresponde al stock."]],template:function(e,i){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.openModal()}),t.qZA(),t.TgZ(1,"p-dialog",1),t.NdJ("visibleChange",function(_){return i.displayModal=_}),t.TgZ(2,"p-card"),t.YNc(3,_t,13,4,"form",2),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Akn(t.DdM(8,mt)),t.Q6J("header",i.tituloModal)("visible",i.displayModal)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("ngIf",i.modelForm))},directives:[Q.u,P.Hq,R.V,y.Z,f.O5,l._Y,l.JL,l.sg,S.o,h.iA,l.CE,Z.jx,l.x0,h.Wq,h.YL,l.Fj,l.JJ,l.u,O.q,J.Fr,V.f],pipes:[f.uU],styles:[""]}),o})();const ft=["inputCantidad"];function ht(o,r){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"Producto"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Stock actual"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Tipo movimiento"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Cantidad"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Lote/Serie"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Acciones"),t.qZA(),t.qZA())}function At(o,r){1&o&&t._UZ(0,"p-message",26)}function vt(o,r){1&o&&t._UZ(0,"p-message",27)}function Zt(o,r){if(1&o&&t._UZ(0,"app-producto-lotes",28),2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.Q6J("ajusteInventario",!0)("cantidad",i.cantidadReal(e.get("producto").value,e.get("tipo").value,e.get("cantidad").value))("producto",e.get("producto").value)("puntoVenta",i.puntoVenta)}}function Tt(o,r){1&o&&t._UZ(0,"p-message",29)}function xt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().rowIndex;return t.oxw(3).deleteAjusteForm(c)}),t.qZA()}}function It(o,r){if(1&o&&(t.TgZ(0,"tr",14),t.TgZ(1,"td"),t.TgZ(2,"span",15),t._uU(3,"Producto"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"span",15),t._uU(7,"Stock actual"),t.qZA(),t._UZ(8,"app-mostrar-stock",16),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"span",15),t._uU(11,"Tipo"),t.qZA(),t._UZ(12,"p-selectButton",17),t.qZA(),t.TgZ(13,"td"),t.TgZ(14,"span",15),t._uU(15,"Cantidad movimiento"),t.qZA(),t._UZ(16,"input",18,19),t.YNc(18,At,1,0,"p-message",20),t.YNc(19,vt,1,0,"p-message",21),t.qZA(),t.TgZ(20,"td"),t.TgZ(21,"span",15),t._uU(22,"Lote/Serie"),t.qZA(),t.YNc(23,Zt,1,4,"app-producto-lotes",22),t.YNc(24,Tt,1,0,"p-message",23),t.qZA(),t.TgZ(25,"td",24),t.TgZ(26,"span",15),t._uU(27,"Acciones"),t.qZA(),t.YNc(28,xt,1,0,"button",25),t.qZA(),t.qZA()),2&o){const e=r.$implicit,i=r.rowIndex,c=t.oxw(3);t.Q6J("formGroupName",i),t.xp6(4),t.hij(" ",null==e.get("producto").value?null:e.get("producto").value.nombre," "),t.xp6(4),t.Q6J("producto",e.get("producto").value),t.xp6(4),t.Q6J("options",c.tiposMovimiento),t.xp6(6),t.Q6J("ngIf",e.get("cantidad").touched&&(null==e.get("cantidad").errors?null:e.get("cantidad").errors.required)),t.xp6(1),t.Q6J("ngIf",e.get("cantidad").touched&&(null==e.get("cantidad").errors?null:e.get("cantidad").errors.min)),t.xp6(4),t.Q6J("ngIf",e.get("producto").value.loteSerie),t.xp6(1),t.Q6J("ngIf",e.get("lotes").touched&&(null==e.get("lotes").errors?null:e.get("lotes").errors.qtyLotes)),t.xp6(4),t.Q6J("ngIf",!e.id)}}function Ct(o,r){1&o&&t._UZ(0,"p-message",31)}function bt(o,r){if(1&o&&(t.TgZ(0,"p-card"),t.TgZ(1,"p-table",10),t.YNc(2,ht,13,0,"ng-template",11),t.YNc(3,It,29,9,"ng-template",12),t.qZA(),t.YNc(4,Ct,1,0,"p-message",13),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("value",e.modelFormAjustes.controls)("responsive",!0),t.xp6(3),t.Q6J("ngIf",e.modelForm.get("ajustes").touched&&(null==e.modelForm.get("ajustes").errors?null:e.modelForm.get("ajustes").errors.minLengthArray))}}function yt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"p-card"),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"app-agregar-producto",4),t.NdJ("selectProduct",function(c){return t.CHM(e),t.oxw().addAjusteFormByProduct(c)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,bt,5,3,"p-card",6),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().registerAdjustment()}),t.qZA(),t._UZ(11,"button",9),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.modelForm),t.xp6(6),t.Q6J("aditionalParamsGeneralSearch",e.aditionalParamsSearchSupply)("visibleAddItem",!1),t.xp6(2),t.Q6J("ngIf",e.modelFormAjustes)}}class C{constructor(r,e,i,c,_,j,H,te,ee){this.store=r,this.route=e,this.router=i,this.productService=c,this.loginService=_,this.fb=j,this.inventoryService=H,this.messageService=te,this.breadcrumbService=ee,this.unsubscribe$=new N.xQ,this.filteredProducts=[]}ngOnInit(){this.tiposMovimiento=[{label:"Entrada",value:"ENTRADA",icon:"fa fa-fw fa fa-plus"},{label:"Salida",value:"SALIDA",icon:"fa fa-fw fa fa-minus"}],this.aditionalParamsSearchSupply=["tipo=INSUMO","tipo=ARTICULO"],this.breadcrumbService.setItems((0,g.kn)(this.route)),this.validarPuntoVenta(),this.builderForm()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}builderForm(){this.modelForm=this.fb.group({ajustes:this.fb.array([],(0,g.eK)(1))})}validarPuntoVenta(){this.puntoVenta$.pipe((0,b.R)(this.unsubscribe$)).subscribe(r=>{this.puntoVenta=r,this.modelForm&&this.modelFormAjustes.clear()})}filterProductByCodigoAndNombre(r){const e=[`filterGlobal=${r.query.replace("&","%26")}`,"paginacion=false"];this.productService.findAllList(e.join("&")).subscribe(i=>{this.filteredProducts=i})}registerAdjustment(){if((0,g.c2)(this.modelForm),this.modelForm.valid){const r={puntoVenta:this.puntoVenta,items:this.modelFormAjustes.getRawValue(),fecha:new Date};this.inventoryService.saveInventoryAdjustment(r).subscribe(e=>{this.messageService.add({severity:"success",detail:"Ajuste de inventario registrado",summary:"Mensaje"}),this.router.navigateByUrl("/inventario-ajustes")})}}get modelFormAjustes(){return this.modelForm.get("ajustes")}cantidadReal(r,e,i){const c=r.inventarios.find(j=>j.puntoVenta.id===this.puntoVenta.id);return"SALIDA"===e&&(i*=-1),(c&&c.stock?c.stock:0)+Number(i)}addAjusteForm(r){this.modelFormAjustes.push(this.createAjusteForm(r))}addAjusteFormByProduct(r){this.modelFormAjustes.controls.find(e=>e.get("producto").value.id===r.id)?this.messageService.add({severity:"warn",summary:"Mensaje",detail:`El ajuste ${r.nombre} ya est\xe1 agregado.`}):this.modelFormAjustes.push(this.createAjusteForm({producto:r})),setTimeout(()=>{this.inputCantidadArray.toArray()[this.inputCantidadArray.length-1].nativeElement.focus()})}deleteAjusteForm(r){this.modelFormAjustes.removeAt(r)}createAjusteForm(r){const e=this.fb.group({producto:[r.producto,[l.kI.required]],cantidad:[r.cantidad,[l.kI.required,l.kI.min(0)]],tipo:["ENTRADA",[l.kI.required]],concepto:[r.concepto,[]],lotes:[[],[]]}),i=()=>{e.get("lotes").clearValidators();const c=this.cantidadReal(e.get("producto").value,e.get("tipo").value,e.get("cantidad").value);e.get("lotes").setValidators([(0,g.Lw)(c)])};return e.get("cantidad").valueChanges.pipe((0,b.R)(this.unsubscribe$)).subscribe(()=>{i()}),e.get("tipo").valueChanges.pipe((0,b.R)(this.unsubscribe$)).subscribe(()=>{i()}),e}}C.\u0275fac=function(r){return new(r||C)(t.Y36(x.yh),t.Y36(A.gz),t.Y36(A.F0),t.Y36(M.M),t.Y36(E.r),t.Y36(l.qu),t.Y36(I.V),t.Y36(Z.ez),t.Y36(F.p))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-ajuste-inventario"]],viewQuery:function(r,e){if(1&r&&t.Gf(ft,5),2&r){let i;t.iGM(i=t.CRH())&&(e.inputCantidadArray=i)}},decls:2,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[1,"grid"],[1,"col-12"],[3,"aditionalParamsGeneralSearch","visibleAddItem","selectProduct"],[1,"col-12","p-fluid"],[4,"ngIf"],[1,"col-12",2,"display","flex","align-items","center","justify-content","center"],["pButton","","type","button","label","Registrar",2,"margin-right","0.4rem",3,"click"],["routerLink","/inventario-ajustes","pButton","","type","button","label","Volver",1,"p-button-secondary",2,"margin-right","0.4rem"],["formArrayName","ajustes",3,"value","responsive"],["pTemplate","header"],["pTemplate","body"],["severity","error","text","Agregue productos",4,"ngIf"],[3,"formGroupName"],[1,"p-column-title"],["mostrar","button",3,"producto"],["formControlName","tipo",3,"options"],["pKeyFilter","num","formControlName","cantidad","type","text","pInputText","",1,"margin-left:","5px;"],["inputCantidad",""],["severity","error","text","Ingrese cantidad",4,"ngIf"],["severity","error","text","Valor incorrecto",4,"ngIf"],["formControlName","lotes",3,"ajusteInventario","cantidad","producto","puntoVenta",4,"ngIf"],["severity","error","text","Cantidad de lotes/series no corresponde al stock.",4,"ngIf"],[1,"center"],["class","p-button-secondary m-l-3 m-r-3","pTooltip","Eliminar","type","button","pButton","","icon","pi pi-trash",3,"click",4,"ngIf"],["severity","error","text","Ingrese cantidad"],["severity","error","text","Valor incorrecto"],["formControlName","lotes",3,"ajusteInventario","cantidad","producto","puntoVenta"],["severity","error","text","Cantidad de lotes/series no corresponde al stock."],["pTooltip","Eliminar","type","button","pButton","","icon","pi pi-trash",1,"p-button-secondary","m-l-3","m-r-3",3,"click"],["severity","error","text","Agregue productos"]],template:function(r,e){1&r&&(t.TgZ(0,"p-card"),t.YNc(1,yt,12,4,"form",0),t.qZA()),2&r&&(t.xp6(1),t.Q6J("ngIf",e.modelForm))},directives:[y.Z,f.O5,l._Y,l.JL,l.sg,Y.d,h.iA,l.CE,Z.jx,l.x0,D.d,$.UN,l.JJ,l.u,l.Fj,J.Fr,S.o,O.q,gt,Q.u,P.Hq,A.rH],styles:[""]}),(0,L.gn)([(0,x.Ph)(U.Z.getOffice)],C.prototype,"puntoVenta$",void 0);var T=a(41777),Pt=a(96310);function jt(o,r){1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"Tipo"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Cantidad"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Producto"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Nuevo stock"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Stock anterior"),t.qZA(),t.qZA())}function qt(o,r){if(1&o&&(t.TgZ(0,"tr",5),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.qZA()),2&o){const e=r.$implicit;t.Q6J("ngClass","ENTRADA"===e.tipo?"in-inventory":"out-inventory"),t.xp6(2),t.Oqu(e.tipo),t.xp6(2),t.Oqu(e.cantidad),t.xp6(2),t.Oqu(null==e||null==e.producto?null:e.producto.nombre),t.xp6(2),t.Oqu(e.stock),t.xp6(2),t.Oqu(e.stockAnterior)}}let Lt=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ajuste-inventario-detalle"]],inputs:{ajusteInventario:"ajusteInventario"},decls:5,vars:1,consts:[[1,"grid","p-fluid"],[1,"col-12"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[3,"ngClass"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"p-table",2),t.YNc(3,jt,11,0,"ng-template",3),t.YNc(4,qt,11,6,"ng-template",4),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("value",i.ajusteInventario.items))},directives:[h.iA,Z.jx,f.mk],styles:[""]}),o})();function Ut(o,r){if(1&o&&t._UZ(0,"p-sortIcon",12),2&o){const e=t.oxw().$implicit;t.Q6J("field",e.field)}}function Nt(o,r){if(1&o&&(t.TgZ(0,"th",10),t._uU(1),t.YNc(2,Ut,1,1,"p-sortIcon",11),t.qZA()),2&o){const e=r.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij(" ",e.header," "),t.xp6(1),t.Q6J("ngIf",!e.isActions)}}function Mt(o,r){if(1&o&&(t.TgZ(0,"tr"),t._UZ(1,"th",8),t.YNc(2,Nt,3,3,"th",9),t.qZA()),2&o){const e=r.$implicit;t.xp6(2),t.Q6J("ngForOf",e)}}function Et(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(i[e.field].nombre)}}function Ft(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Et,2,1,"span",17),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",i[e.field])}}function Jt(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(i[e.field].nombreCompleto)}}function St(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Jt,2,1,"span",17),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",i[e.field])}}function Ot(o,r){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw(3).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i[e.field],"dd/MM/yyyy hh:mm a"))}}function Qt(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Ot,3,4,"span",17),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",i[e.field])}}function Yt(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i[e.field]," ")}}function Dt(o,r){1&o&&(t.ynx(0),t.YNc(1,Ft,2,1,"ng-container",18),t.YNc(2,St,2,1,"ng-container",18),t.YNc(3,Qt,2,1,"ng-container",18),t.YNc(4,Yt,2,1,"ng-container",19),t.BQk()),2&o&&(t.xp6(1),t.Q6J("ngSwitchCase","puntoVenta"),t.xp6(1),t.Q6J("ngSwitchCase","usuario"),t.xp6(1),t.Q6J("ngSwitchCase","fecha"))}function $t(o,r){if(1&o&&(t.TgZ(0,"td",16),t.YNc(1,Dt,5,3,"ng-container",17),t.qZA()),2&o){const e=r.$implicit;t.Q6J("ngSwitch",e.field),t.xp6(1),t.Q6J("ngIf",!e.isActions)}}function wt(o,r){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"a",13),t._UZ(3,"i",14),t.qZA(),t.qZA(),t.YNc(4,$t,2,2,"td",15),t.qZA()),2&o){const e=r.$implicit,i=r.expanded,c=r.columns;t.xp6(2),t.Q6J("pRowToggler",e),t.xp6(1),t.Q6J("ngClass",i?"pi pi-chevron-down":"pi pi-chevron-right"),t.xp6(1),t.Q6J("ngForOf",c)}}function Bt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",20),t.TgZ(1,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().new()}),t.qZA(),t.qZA()}}function Rt(o,r){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"app-ajuste-inventario-detalle",22),t.qZA(),t.qZA()),2&o){const e=r.$implicit,i=r.columns;t.xp6(1),t.uIk("colspan",i.length+1),t.xp6(1),t.Q6J("ajusteInventario",e)}}const kt=[{path:"nuevo",component:C,canActivate:[n.P],data:{breadcrumb:[{label:"Operaciones"},{label:"Inventario"},{label:"Ajustes de inventario"},{label:"Nuevo ajuste"}]}},{path:"",component:(()=>{class o{constructor(e,i,c,_,j,H){this.route=e,this.router=i,this.inventoryService=c,this.companyService=_,this.loginService=j,this.breadcrumbService=H,this.perPage=10}ngOnInit(){this.breadcrumbService.setItems((0,g.kn)(this.route)),this.cols=[{field:"puntoVenta",header:"Punto de venta"},{field:"usuario",header:"Usuario"},{field:"fecha",header:"Fecha"}]}new(){this.router.navigateByUrl("/inventario-ajustes/nuevo")}loadLazy(e){const c=["pageNumber="+e.first/this.perPage,`perPage=${e.rows}`];e.sortOrder&&c.push(`sortOrder=${e.sortOrder}`),e.sortField&&c.push(`sortField=${e.sortField}`),this.inventoryService.findAllInventoryAdjustment(c.join("&")).subscribe(_=>{this.totalRecords=_.totalElements,this.inventoryAdjustments=_.content})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.gz),t.Y36(A.F0),t.Y36(I.V),t.Y36(Pt.J),t.Y36(E.r),t.Y36(F.p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ajustes-inventarios"]],decls:9,vars:8,consts:[[1,"grid"],[1,"col-12"],["dataKey","id",3,"columns","value","lazy","paginator","rows","totalRecords","responsive","autoLayout","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","rowexpansion"],[2,"width","3em"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],["ariaLabel","Activa para ordenar","ariaLabelDesc","Activa para ordenar en orden descendente","ariaLabelAsc","Activa para ordenar en orden ascendente",3,"field",4,"ngIf"],["ariaLabel","Activa para ordenar","ariaLabelDesc","Activa para ordenar en orden descendente","ariaLabelAsc","Activa para ordenar en orden ascendente",3,"field"],["href","#",3,"pRowToggler"],[3,"ngClass"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngIf"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[2,"text-align","left"],["type","button","pButton","","icon","fa fa-plus","label","Nuevo",2,"margin-right","0.2rem",3,"click"],[3,"ajusteInventario"]],template:function(e,i){1&e&&(t.TgZ(0,"p-card"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.TgZ(3,"p-table",2,3),t.NdJ("onLazyLoad",function(_){return i.loadLazy(_)}),t.YNc(5,Mt,3,1,"ng-template",4),t.YNc(6,wt,5,3,"ng-template",5),t.YNc(7,Bt,2,0,"ng-template",6),t.YNc(8,Rt,3,2,"ng-template",7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("columns",i.cols)("value",i.inventoryAdjustments)("lazy",!0)("paginator",!0)("rows",i.perPage)("totalRecords",i.totalRecords)("responsive",!0)("autoLayout",!0))},directives:[y.Z,h.iA,Z.jx,f.sg,h.lQ,f.O5,h.fz,h.jB,f.mk,f.RF,f.n9,f.ED,P.Hq,Lt],pipes:[f.uU],styles:[""],data:{animation:[(0,T.X$)("rowExpansionTrigger",[(0,T.SB)("void",(0,T.oB)({transform:"translateX(-10%)",opacity:0})),(0,T.SB)("active",(0,T.oB)({transform:"translateX(0)",opacity:1})),(0,T.eR)("* <=> *",(0,T.jt)("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}}),o})(),canActivate:[n.P],data:{breadcrumb:[{label:"Operaciones"},{label:"Inventario"},{label:"Ajustes de inventario"}]}}];let Gt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[A.Bz.forChild(kt)],A.Bz]}),o})();var Kt=a(20958),Ht=a(19406),zt=a(45330),Wt=a(99266);let Xt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[zt.xA],imports:[[Gt,Kt.m,Ht.P,Wt.w]]}),o})()}}]);